<!doctype html>
<html lang="en">
<meta charset="UTF-8">
<head>
<title>Bied Systeem: Maartje en Wim</title>
<link rel="stylesheet" type="text/css" media="all" href="css/jstree-classic/style.css">
<link rel="stylesheet" type="text/css" media="all" href="css/jstree-classic/jstree.css">
<link rel="stylesheet" type="text/css" media="all" href="css/main.css">
<link rel="stylesheet" type="text/css" media="all" href="css/context-menu.css">
<link rel="stylesheet" type="text/css" media="all" href="css/bidpicker.css">
<link type="text/css" rel="stylesheet" href="css/blitzer/jquery-ui-1.10.3.blitzer.css" />
<script data-main="js/main" src="js/libs/require.js"></script>
</head>
<body>
	<div id="tree-view">
	
		<!-- Renders bidsystem tree view  -->
		<div class="jstree jstree-0 jstree-focused jstree-classic context">
			<!-- ko with: selectedRoot -->
				<ul data-bind="template: { name: 'bidconvention-template', foreach: children }"></ul>
		    <!-- /ko -->
		</div>
		
		<!-- Template that recursively renders the bidconvention tree structure-->
		<script id="bidconvention-template" type="text/html">
			<li data-bind="css: $root.cssTreeNode($data)">
				<ins class="jstree-icon">&nbsp;</ins>
				<a href="#">
					<div class="bidconvention" data-bind="css : $root.cssBidconvention($data)"> 
						<span class="bid" data-bind="html : bid()? bid().htmlString() : ''"></span>
						<!-- ko with: convention -->
							<span class="description" contenteditable="true" data-bind="{htmlValue : description}"></span>
					    <!-- /ko -->
					</div>
				</a>
				<ul data-bind="template: { name: 'bidconvention-template', foreach: children }"></ul>
			</li>
		</script>
		
		<!--  Context menu for bidconventions in the tree view-->
		<ul id="context-menu" class="jeegoocontext cm_blue">
			<li class="context-menu-new" data-bind="css : $root.bidpicker.hasValidBids()? '' : 'disabled'">New <span class="context-menu-shortcut">(Alt + N)</span></li>
			<li>Select <span class="context-menu-shortcut">(Alt + T)</span></li>
			<li class="context-menu-delete">Delete <span class="context-menu-shortcut">(Delete)</span></li>
			<li class="context-menu-x">Edit bid(s) <span class="context-menu-shortcut">()</span></li>
			<li class="context-menu-y">Edit description(s) <span class="context-menu-shortcut">()</span></li>
		</ul>
		
		<!--  Dialog to confirm deleting bidconventions -->
		<div id="dialog-confirm-delete-bid-convention" title="Delete bid convention?" class="ui-helper-hidden">
		  <p><span class="ui-icon ui-icon-alert" style="float: left; margin: 0 7px 20px 0;"></span>
		    Are you sure to delete the selected bid convention and all it's child conventions?
		  </p>
		</div>
	</div>

	<!-- bidpicker -->
	<!-- ko with: bidpicker -->
	<!-- ko if: visible -->
		<div class="bidpicker" data-bind="{style: { left: left() + 'px', top: top() + 'px'}}" >
			<div class="suit-bids" data-bind="foreach: suitBids">
				<a class="bid-button" data-bind="{hasFocus: $parent.isCurrentBid($data), html: htmlString(), css : $parent.cssBidButton($data)}"></a>
			</div>
			<div class="special-bids" data-bind="foreach: specialBids">
				<a class="bid-button" data-bind="{hasFocus: $parent.isCurrentBid($data), html: htmlString(), css : $parent.cssBidButton($data)}"></a>
			</div>
		</div>
	<!-- /ko -->
	<!-- /ko -->

</body>
</html> 
